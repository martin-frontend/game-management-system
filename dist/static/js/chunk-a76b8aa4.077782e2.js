(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a76b8aa4"],{1699:function(e,a,t){"use strict";t("5a05")},"2f6f":function(e,a,t){},"51cd":function(e,a,t){"use strict";t("c398")},"5a05":function(e,a,t){},"8db9":function(e,a,t){"use strict";t("2f6f")},c398:function(e,a,t){},e59a:function(e,a,t){"use strict";t.r(a);var l=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"page-container"},[t("searchPanel",{on:{onSearch:e.onSearch}}),t("div",{staticClass:"table-container"},[t("el-tag",[e._v("遊戲歷程")]),t("el-tabs",{staticStyle:{"margin-top":"10px"},model:{value:e.activeName,callback:function(a){e.activeName=a},expression:"activeName"}},e._l(e.tabMapOptions,(function(a){return t("el-tab-pane",{key:a.key,attrs:{label:a.label,name:a.key}},["coin"===e.activeName?[t("goldPanel",{attrs:{"table-data":e.coindata}})]:"free"===e.activeName?[t("freePanel",{attrs:{"table-data":e.freedata}})]:[t("paidPanel",{attrs:{"table-data":e.paiddata}})]],2)})),1)],1)],1)},r=[],n=t("2909"),o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"search-panel"},[t("el-tag",[e._v("請輸入查詢條件")]),t("div",{staticStyle:{padding:"5px 0"}}),t("el-form",{ref:"form",attrs:{inline:!0,model:e.formData,rules:e.rules}},[t("el-form-item",{attrs:{prop:"type"}},[t("el-select",{attrs:{clearable:"",placeholder:"請選擇"},model:{value:e.formData.type,callback:function(a){e.$set(e.formData,"type",a)},expression:"formData.type"}},e._l(e.typeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{prop:"text"}},[t("el-input",{attrs:{clearable:"",placeholder:e.handlePlaceholder()},model:{value:e.formData.text,callback:function(a){e.$set(e.formData,"text",a)},expression:"formData.text"}})],1),t("el-form-item",{attrs:{prop:"startdate"}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"選擇開始日期"},model:{value:e.formData.startdate,callback:function(a){e.$set(e.formData,"startdate",a)},expression:"formData.startdate"}})],1),t("el-form-item",{attrs:{prop:"enddate"}},[t("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"選擇結束日期","picker-options":e.pickerOptions},model:{value:e.formData.enddate,callback:function(a){e.$set(e.formData,"enddate",a)},expression:"formData.enddate"}})],1),t("el-form-item",[t("el-select",{attrs:{clearable:"",placeholder:"請選擇"},model:{value:e.formData.category,callback:function(a){e.$set(e.formData,"category",a)},expression:"formData.category"}},e._l(e.categoryOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.handleSearch()}}},[e._v("查詢")])],1)],1)},s=[],i=t("b775");function c(e){return Object(i["a"])({url:"player_gamehistory",method:"post",data:e})}var u=t("c1df"),d=t.n(u),p={name:"SearchPanel",data:function(){return{isStartDateError:!1,formData:{type:"user_id",startdate:"",enddate:""},typeOptions:[{value:"user_id",label:"角色ID"},{value:"user_name",label:"角色名稱"}],categoryOptions:[{value:0,label:"登入LOG"},{value:1,label:"商店資訊"},{value:2,label:"遊戲資源"},{value:3,label:"客人清單"},{value:4,label:"貨倉容量"},{value:5,label:"車庫容量"},{value:6,label:"停車格"},{value:7,label:"持有店員"},{value:8,label:"持有店員服裝"},{value:9,label:"持有吉祥物"},{value:10,label:"持有素材"},{value:11,label:"持有商品"},{value:12,label:"持有裝飾品"},{value:13,label:"持有貨架"},{value:14,label:"持有車輛"},{value:15,label:"攬客區域等級"},{value:16,label:"客人等級"},{value:17,label:"擴建等級"},{value:18,label:"劇情任務"},{value:19,label:"經營任務"},{value:20,label:"緊急訂單"},{value:21,label:"好友清單"}],rules:{type:[{required:!0,message:"請選擇角色",trigger:"change"}],text:[{required:!0,message:"請填寫內容",trigger:"change"}],startdate:[{required:!0,trigger:"change",validator:this.handleStartDate}],enddate:[{required:!0,trigger:"change",validator:this.handleEndDate}]}}},computed:{pickerOptions:function(){var e=this;return{disabledDate:function(a){return!e.isStartDateError&&d()(a)<d()(e.formData.startdate)}}}},methods:{handleSearch:function(){var e=this;this.$refs["form"].validate((function(a,t){if(a){var l=new FormData;e.formData.type&&e.formData.text&&(l.append("type",e.formData.type),l.append("text",e.formData.text)),e.formData.startdate&&l.append("startdate",e.formData.startdate),e.formData.enddate&&l.append("enddate",e.formData.enddate),void 0!==e.formData.category&&l.append("category",e.formData.category),c(l).then((function(a){var t=a.data;t.success?(e.$emit("onSearch",t.content),e.$message.success(t.msg)):e.$message.warning(t.msg)})).catch((function(e){console.log(e)}))}}))},handlePlaceholder:function(){return this.formData.type?"user_id"===this.formData.type?"請輸入角色ID":"請輸入角色名稱":""},handleStartDate:function(e,a,t){a&&d()(a)>d()(this.formData.enddate)?(this.isStartDateError=!0,t(new Error("請選擇正確的開始日期"))):(this.isStartDateError=!1,t())},handleEndDate:function(e,a,t){if(a&&d()(a)<d()(this.formData.startdate))return t(new Error("請選擇正確的結束日期"));this.formData.startdate&&this.$refs["form"].validateField(["startdate"]),this.isStartDateError=!1,t()}}},f=p,m=t("2877"),b=Object(m["a"])(f,o,s,!1,null,null,null),h=b.exports,g=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-table",{attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"type",label:"類別",width:"180"}}),t("el-table-column",{attrs:{prop:"system",label:"系統",width:"180"}}),t("el-table-column",{attrs:{prop:"amount",label:"數量"}}),t("el-table-column",{attrs:{prop:"datetime",label:"時間",sortable:""}})],1),t("div",{staticClass:"table-pagination"},[t("el-pagination",{attrs:{"current-page":1,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},v=[],y={name:"GoldPanel",props:{tableData:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))}}},D=y,x=(t("8db9"),Object(m["a"])(D,g,v,!1,null,"865783a2",null)),C=x.exports,k=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-table",{attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"type",label:"類別",width:"180"}}),t("el-table-column",{attrs:{prop:"system",label:"系統",width:"180"}}),t("el-table-column",{attrs:{prop:"amount",label:"數量"}}),t("el-table-column",{attrs:{prop:"datetime",label:"時間",sortable:""}})],1),t("div",{staticClass:"table-pagination"},[t("el-pagination",{attrs:{"current-page":1,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},S=[],_={name:"FreePanel",props:{tableData:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))}}},z=_,O=(t("1699"),Object(m["a"])(z,k,S,!1,null,"8e088d72",null)),w=O.exports,P=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("el-table",{attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{prop:"type",label:"類別",width:"180"}}),t("el-table-column",{attrs:{prop:"system",label:"系統",width:"180"}}),t("el-table-column",{attrs:{prop:"amount",label:"數量"}}),t("el-table-column",{attrs:{prop:"datetime",label:"時間",sortable:""}})],1),t("div",{staticClass:"table-pagination"},[t("el-pagination",{attrs:{"current-page":1,"page-sizes":[100,200,300,400],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},$=[],E={name:"PaidPanel",props:{tableData:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))}}},j=E,M=(t("51cd"),Object(m["a"])(j,P,$,!1,null,"0cec6bf2",null)),N=M.exports,q={name:"Index",components:{searchPanel:h,goldPanel:C,freePanel:w,paidPanel:N},data:function(){return{activeName:"coin",tabMapOptions:[{label:"金幣",key:"coin"},{label:"免費鑽",key:"free"},{label:"付費鑽",key:"paid"}],coindata:[],freedata:[],paiddata:[]}},methods:{onSearch:function(e){this.coindata=Object(n["a"])(e.coin),this.freedata=Object(n["a"])(e.freedimand),this.paiddata=Object(n["a"])(e.paydimand)}}},A=q,F=Object(m["a"])(A,l,r,!1,null,null,null);a["default"]=F.exports}}]);